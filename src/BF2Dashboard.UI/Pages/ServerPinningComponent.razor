@using BF2Dashboard.Domain.BattlefieldApi

<HxButton Text="Toggle" OnClick="async _ => await TogglePinStatus()"></HxButton>

@code {

    [Parameter]
    public Server Server { get; set; } = default!;

    [Parameter]
    public EventCallback<Server> OnServerPinToggleEventCallback { get; set; }

    private async Task TogglePinStatus()
    {
        var newStatus = !Server.IsPinned;
        Console.WriteLine($"Setting pin status to {newStatus} of server: {Server.Name} {Server.Guid}");
        Server.IsPinned = newStatus;
        await OnServerPinToggleEventCallback.InvokeAsync(Server);
    }

}